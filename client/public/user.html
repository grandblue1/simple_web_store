<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ecommerce Responsive full website</title>
  <!-- CSS-link -->
  <link rel="stylesheet" href="style.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Jost:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="cart.css" />

  <link rel="stylesheet"
        href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
  <title>Bootstrap Example</title>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>

</head>
<body>

<header>
  <a href="#" class="logo"><img src="image/logo.png" alt=""></a>

  <ul class="navmenu">
    <li><a href="/">home</a></li>

    <li><a href="#">products</a></li>
    <li><a href="#">page</a></li>
    <li><a href="#">Docs</a></li>
  </ul>

  <div class="nav-icon">
    <input type="text" onkeyup="search()" class="form-control search-panel" placeholder="Search" aria-label="Search" aria-describedby="search-icon" />


    <!-- Example single danger button -->

    <a href="#" data-bs-toggle="dropdown" aria-expanded="false"><i class='bx bx-user'></i></a>
    <div class="dropdown-menu">

      <div class="dropdown-divider"></div>
      <form action="/logout" method="post">
        <button class="dropdown-item" type="button" aria-expanded="false" data-target="#createCard" data-toggle="modal">Own products</button>
        <button class="dropdown-item" type="submit">Logout</button>
      </form>

      <div class="dropdown-divider"></div>
    </div>





    <a href="#" data-toggle="modal" data-target="#cartModal" class="cart-icon"><i class='bx bx-cart' > <span class='badge badge-warning' id='lblCartCount'> 5 </span> </i></a>

    <div class="bx bx-menu" id="menu-icon"></div>
  </div>
</header>

<!-- trending-products-section -->
<section class="trending-product" id="trending">
  <div class="center-text">
    <h2>Our Trending <span class="produc_">products</span>    </h2>

  </div>
  <div class="row">
    <div class="col-12">
      <ul class="nav nav-tabs cards-generate" id="list-tab" role="tablist" >
        <li class="nav-item" role="presentation">
          <a class="nav-link active" id="list-home-list" onclick="localStorage.setItem('count', '5')" data-bs-toggle="tab" href="#list-home" role="tab" aria-controls="list-home">5</a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" id="list-profile-list" onclick="localStorage.setItem('count', '10')" data-bs-toggle="tab" href="#list-profile" role="tab" aria-controls="list-profile">10</a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" id="list-messages-list" onclick="localStorage.setItem('count', '15')" data-bs-toggle="tab" href="#list-messages" role="tab" aria-controls="list-messages">15</a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" style="margin-bottom: 20px;" onclick="localStorage.setItem('count', '20')" id="list-settings-list" data-bs-toggle="tab" href="#list-settings" role="tab" aria-controls="list-settings">20</a>
        </li>
      </ul>
    </div>
  </div>

  <div class="products">


  </div>
</section>

<!-- contact-section -->
<footer>
  <section class="contact">
    <div class="contact-info">
      <div class="first-info">
        <img src="image/logo.png" alt="">

        <p>3245 Grant Street Longview, <br> TX united kingdom 765378</p>
        <p>01601348732</p>
        <p>olegbacarov27@gmail.com</p>

        <div class="social-icon">
          <a href="#"><i class='bx bxl-facebook'></i></a>
          <a href="#"><i class='bx bxl-twitter' ></i></a>
          <a href="#"><i class='bx bxl-instagram' ></i></a>
          <a href="#"><i class='bx bxl-youtube' ></i></a>
          <a href="#"><i class='bx bxl-linkedin' ></i></a>
        </div>
      </div>

      <div class="second-info">
        <h4>Support</h4>
        <p>Contact us</p>
        <p>About page</p>
        <p>Size Guide</p>
        <p>Shopping & Resturns</p>
        <p>Privacy</p>
      </div>

      <div class="third-info">
        <h4>Shop</h4>
        <p>Men's Shopping</p>
        <p>Women's Shopping</p>
        <p>Kids's Shopping</p>
        <p>Furniture</p>
        <p>Discount</p>
      </div>

      <div class="fourth-info">
        <h4>Company</h4>
        <p>About</p>
        <p>Blog</p>
        <p>Affiliate</p>
        <p>Login</p>
      </div>

      <div class="five">
        <h4>Subscribe</h4>
        <p>Receive Updates, Hot Deals, Discounts Sent Straight In Your Inbox Daily</p>
        <p>Lorem Ipsum Dolor Sit Amet Consectetur Adipisicing Elit. Eum, Debitis.</p>
        <p>Receive Updates, Hot Deals, Discounts Sent Straight In Your Inbox Daily</p>
      </div>
    </div>
  </section>

  <div class="end-text">
    <p>Copyright © @2022. All Rights Reserved.Designd By Maks Manzenko.</p>
  </div>

</footer>



<!-- The Modal -->
<div class="modal fade" id="cartModal" tabindex="-1" role="dialog" aria-labelledby="cartModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="cartModalLabel">Shopping Cart</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="cart_template">
        <div class="modal-body  shopping_cart">
          <!-- Cart Items -->

        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary btn-to-close-cart" data-dismiss="modal">Close</button>
        <button type="button"data-toggle="modal" onclick="openCheckout()" data-target="#Checkout" class="btn btn-primary">Checkout</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="createCard" tabindex="-1" role="dialog" aria-labelledby="createCardLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="createCardLabel">Create Your Card</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form id="cardForm" enctype="multipart/form-data">
          <div class="form-group">
            <label for="image">Image URL</label>
            <input type="file" class="form-control"  name="file"  id="image" required>
            <img id="imagePreview" src="" alt="Image Preview" style="max-width: 50%; margin-top: 10px; display: none;">
          </div>
          <div class="form-group">
            <label for="name">Name</label>
            <input type="text" class="form-control" id="name" required>
          </div>
          <div class="form-group">
            <label for="cost">Cost</label>
            <input type="number" class="form-control" id="cost" step="0.01" required>
          </div>
          <div class="form-group">
            <label for="description">Description</label>
            <textarea class="form-control" id="description" rows="3" required></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" id="btn-close">Close</button>
        <button type="submit" form="cardForm" class="btn btn-primary">Create Card</button>
      </div>
    </div>
  </div>
</div>

<!-- Second Modal -->
<div class="modal fade" id="Checkout" tabindex="-1" role="dialog" aria-labelledby="CheckoutLabel1" aria-hidden="true">

  <div class="modal-dialog modal-fullscreen">
      <div class="modal-body">
          <div class="modal-header">

          </div>
        <div class="modal-content">
          <section class="h-100 modal modal-content h-custom" style="background-color: #eee;">
            <div class="container py-5 h-100">
              <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col">
                  <div class="card">
                    <div class="card-body p-4">

                      <div class="row ">

                        <div class="col-lg-7 checkout_items">
                          <h5 class="mb-3 " data-dismiss="modal" ><a href="#!" class="text-body"><i

                                  class="fas fa-long-arrow-alt-left me-2"></i>Continue shopping</a></h5>
                          <hr>

                          <div class="d-flex justify-content-between align-items-center mb-4">
                            <div>
                              <p class="mb-1">Shopping cart</p>
                              <p class="mb-0">You have <span id="cart-items-number">4</span>  items in your cart</p>
                            </div>
                            <div>
                              <p class="mb-0"><span class="text-muted">Sort by:</span> <a href="#!" class="text-body">price <i class="fas fa-angle-down mt-1"></i></a></p>
                            </div>
                          </div>









                        </div>
                        <div class="col-lg-5">

                          <div class="card bg-primary text-white rounded-3">
                            <div class="card-body">
                              <div class="d-flex justify-content-between align-items-center mb-4">
                                <h5 class="mb-0">Checkout details</h5>
                                <img src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/avatar-6.webp"
                                     class="img-fluid rounded-3" style="width: 45px;" alt="Avatar">
                              </div>

                              <p class="small mb-2">Card type</p>
                              <a href="#!" type="submit" class="text-white"><i
                                      class="fab fa-cc-mastercard fa-2x me-2"></i></a>
                              <a href="#!" type="submit" class="text-white"><i
                                      class="fab fa-cc-visa fa-2x me-2"></i></a>
                              <a href="#!" type="submit" class="text-white"><i
                                      class="fab fa-cc-amex fa-2x me-2"></i></a>
                              <a href="#!" type="submit" class="text-white"><i class="fab fa-cc-paypal fa-2x"></i></a>

                              <form class="mt-4">
                                <div class="form-outline form-white mb-4">
                                  <input type="text" id="username" class="form-control form-control-lg" siez="17"
                                         placeholder="Name" />
                                  <label class="form-label" for="username">Name</label>
                                </div>

                                <div class="form-outline form-white mb-4">
                                  <input type="text" id="fullName" class="form-control form-control-lg" siez="17"
                                         placeholder="Surname" />
                                  <label class="form-label" for="fullName">Surname</label>
                                </div>

                                <div class="form-outline form-white mb-4">
                                  <input type="email" id="email" class="form-control form-control-lg" siez="17"
                                         placeholder="Email" />
                                  <label class="form-label" for="email">Email</label>
                                </div>

                                <div class="form-outline form-white mb-4">
                                  <input type="tel" id="phone" class="form-control form-control-lg" siez="17"
                                         placeholder="Phone" />
                                  <label class="form-label" for="phone">Phone</label>
                                </div>

                                <div class="form-outline form-white mb-4">
                                  <input type="text" id="address" class="form-control form-control-lg" siez="17"
                                         placeholder="Address" />
                                  <label class="form-label" for="address">Address</label>
                                </div>

                              </form>


                              <hr class="my-4">

                              <div class="d-flex justify-content-between">
                                <p class="mb-2">Subtotal</p>
                                <p class="mb-2 totalCost">$4798.00</p>
                              </div>

                              <div class="d-flex justify-content-between">
                                <p class="mb-2">Shipping</p>
                                <p class="mb-2">200.00 грн</p>
                              </div>

                              <div class="d-flex justify-content-between mb-4">
                                <p class="mb-2">Total(Incl. taxes)</p>
                                <p class="mb-2 totalCostWithShipping">4818.00</p>
                              </div>
                              <form>
                                <button type="submit" class="btn btn-info submitCheckout btn-block btn-lg">
                                  <div class="d-flex justify-content-between">
                                    <span>Checkout <i class="fas fa-long-arrow-alt-right ms-2"></i></span>
                                  </div>
                                </button>
                              </form>


                            </div>
                          </div>

                        </div>

                      </div>

                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
  </div>

</div>

<script>
  const openCheckout = ( ) => {
    document.querySelector('.btn-to-close-cart').click();
  }
</script>
<script>
  const header = document.querySelector("header");

  window.addEventListener ("scroll", function(){
    header.classList.toggle ("sticky", this.window.scrollY > 0);
  })

  let menu = document.querySelector('#menu-icon');
  let navmenu = document.querySelector('.navmenu');

  menu.onclick = () => {
    menu.classList.toggle('bx-x');
    navmenu.classList.toggle('open');
  }

  document.querySelector('.submitCheckout').addEventListener("click", async (event) => {
    event.preventDefault()

    const formData = {
      id: Number(localStorage.getItem('userID')),
      name: document.getElementById("username").value,
      surname: document.getElementById("fullName").value,
      email: document.getElementById("email").value,
      phone: document.getElementById("phone").value,
      address: document.getElementById("address").value
    }

    await fetch('/user/nodemailer', {
      method: 'POST',
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(formData)
    })

  })

  const search = () => {
    let h4=  document.querySelector('.name')
    let input = document.querySelector('.search-panel')

    let filter = input.value.toUpperCase()
    let a ;
    for(let i = 0 ; i < document.getElementsByClassName('name').length; i ++) {
        a = document.getElementsByClassName('name')[i]

        if(a.innerHTML.toUpperCase().indexOf(filter) > -1) {
          document.getElementsByClassName('name')[i].closest('span').style.display = 'block'
        }else{
          document.getElementsByClassName('name')[i].closest('span').style.display = 'none'
        }
    }
  }
</script>


<script type="text/javascript" src="out2.js"/>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


</body>
</html>